<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<template encoding-version="1.2">
    <description></description>
    <groupId>ae96bd58-0165-1000-7a20-0033738a86e5</groupId>
    <name>Send netflow to Esper</name>
    <snippet>
        <controllerServices>
            <id>e4a56f91-8693-39d6-0000-000000000000</id>
            <parentGroupId>6a008bcc-3c0a-30bb-0000-000000000000</parentGroupId>
            <bundle>
                <artifact>nifi-esper-e2-nar</artifact>
                <group>de.e2security</group>
                <version>1.1.8</version>
            </bundle>
            <comments></comments>
            <descriptors>
                <entry>
                    <key>EnableEngineDebug</key>
                    <value>
                        <name>EnableEngineDebug</name>
                    </value>
                </entry>
                <entry>
                    <key>EnableEngineMetric</key>
                    <value>
                        <name>EnableEngineMetric</name>
                    </value>
                </entry>
                <entry>
                    <key>EnableJmxMetrics</key>
                    <value>
                        <name>EnableJmxMetrics</name>
                    </value>
                </entry>
                <entry>
                    <key>EnableStmtMetric</key>
                    <value>
                        <name>EnableStmtMetric</name>
                    </value>
                </entry>
                <entry>
                    <key>SetEngineInterval</key>
                    <value>
                        <name>SetEngineInterval</name>
                    </value>
                </entry>
                <entry>
                    <key>SetStmtInterval</key>
                    <value>
                        <name>SetStmtInterval</name>
                    </value>
                </entry>
                <entry>
                    <key>EnableInternalTiming</key>
                    <value>
                        <name>EnableInternalTiming</name>
                    </value>
                </entry>
            </descriptors>
            <name>EsperEngineService</name>
            <persistsState>false</persistsState>
            <properties>
                <entry>
                    <key>EnableEngineDebug</key>
                    <value>true</value>
                </entry>
                <entry>
                    <key>EnableEngineMetric</key>
                    <value>false</value>
                </entry>
                <entry>
                    <key>EnableJmxMetrics</key>
                    <value>false</value>
                </entry>
                <entry>
                    <key>EnableStmtMetric</key>
                    <value>false</value>
                </entry>
                <entry>
                    <key>SetEngineInterval</key>
                    <value>1000</value>
                </entry>
                <entry>
                    <key>SetStmtInterval</key>
                    <value>1000</value>
                </entry>
                <entry>
                    <key>EnableInternalTiming</key>
                    <value>true</value>
                </entry>
            </properties>
            <state>DISABLED</state>
            <type>de.e2security.nifi.controller.esper.EsperEngineService</type>
        </controllerServices>
        <processGroups>
            <id>3df9a790-feaf-34ff-0000-000000000000</id>
            <parentGroupId>6a008bcc-3c0a-30bb-0000-000000000000</parentGroupId>
            <position>
                <x>0.0</x>
                <y>0.0</y>
            </position>
            <comments></comments>
            <contents>
                <connections>
                    <id>3a7f5e31-dc25-33b6-0000-000000000000</id>
                    <parentGroupId>3df9a790-feaf-34ff-0000-000000000000</parentGroupId>
                    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                    <destination>
                        <groupId>3df9a790-feaf-34ff-0000-000000000000</groupId>
                        <id>14e39284-ecdf-3f3e-0000-000000000000</id>
                        <type>PROCESSOR</type>
                    </destination>
                    <flowFileExpiration>0 sec</flowFileExpiration>
                    <labelIndex>1</labelIndex>
                    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                    <name></name>
                    <selectedRelationships>success</selectedRelationships>
                    <source>
                        <groupId>3df9a790-feaf-34ff-0000-000000000000</groupId>
                        <id>73df529b-b8e5-38e2-0000-000000000000</id>
                        <type>PROCESSOR</type>
                    </source>
                    <zIndex>0</zIndex>
                </connections>
                <connections>
                    <id>6b6836a0-1829-35a5-0000-000000000000</id>
                    <parentGroupId>3df9a790-feaf-34ff-0000-000000000000</parentGroupId>
                    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                    <destination>
                        <groupId>3df9a790-feaf-34ff-0000-000000000000</groupId>
                        <id>f286f80f-3c4a-3b2b-0000-000000000000</id>
                        <type>PROCESSOR</type>
                    </destination>
                    <flowFileExpiration>0 sec</flowFileExpiration>
                    <labelIndex>1</labelIndex>
                    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                    <name></name>
                    <selectedRelationships>success</selectedRelationships>
                    <source>
                        <groupId>3df9a790-feaf-34ff-0000-000000000000</groupId>
                        <id>14e39284-ecdf-3f3e-0000-000000000000</id>
                        <type>PROCESSOR</type>
                    </source>
                    <zIndex>0</zIndex>
                </connections>
                <processors>
                    <id>14e39284-ecdf-3f3e-0000-000000000000</id>
                    <parentGroupId>3df9a790-feaf-34ff-0000-000000000000</parentGroupId>
                    <position>
                        <x>550.5041895818892</x>
                        <y>102.10583187501578</y>
                    </position>
                    <bundle>
                        <artifact>nifi-standard-nar</artifact>
                        <group>org.apache.nifi</group>
                        <version>1.8.0</version>
                    </bundle>
                    <config>
                        <bulletinLevel>WARN</bulletinLevel>
                        <comments></comments>
                        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                        <descriptors>
                            <entry>
<key>jolt-transform</key>
<value>
    <name>jolt-transform</name>
</value>
                            </entry>
                            <entry>
<key>jolt-custom-class</key>
<value>
    <name>jolt-custom-class</name>
</value>
                            </entry>
                            <entry>
<key>jolt-custom-modules</key>
<value>
    <name>jolt-custom-modules</name>
</value>
                            </entry>
                            <entry>
<key>jolt-spec</key>
<value>
    <name>jolt-spec</name>
</value>
                            </entry>
                            <entry>
<key>Transform Cache Size</key>
<value>
    <name>Transform Cache Size</name>
</value>
                            </entry>
                            <entry>
<key>pretty_print</key>
<value>
    <name>pretty_print</name>
</value>
                            </entry>
                        </descriptors>
                        <executionNode>ALL</executionNode>
                        <lossTolerant>false</lossTolerant>
                        <penaltyDuration>30 sec</penaltyDuration>
                        <properties>
                            <entry>
<key>jolt-transform</key>
<value>jolt-transform-chain</value>
                            </entry>
                            <entry>
<key>jolt-custom-class</key>
                            </entry>
                            <entry>
<key>jolt-custom-modules</key>
                            </entry>
                            <entry>
<key>jolt-spec</key>
<value>[
  {
    "operation": "shift",
    "spec": {
      "netflow" : 
      {
        "*" : "&amp;"
      }
    }
  }
]</value>
                            </entry>
                            <entry>
<key>Transform Cache Size</key>
<value>1</value>
                            </entry>
                            <entry>
<key>pretty_print</key>
<value>false</value>
                            </entry>
                        </properties>
                        <runDurationMillis>0</runDurationMillis>
                        <schedulingPeriod>0 sec</schedulingPeriod>
                        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
                        <yieldDuration>1 sec</yieldDuration>
                    </config>
                    <executionNodeRestricted>false</executionNodeRestricted>
                    <name>JoltTransformJSON</name>
                    <relationships>
                        <autoTerminate>true</autoTerminate>
                        <name>failure</name>
                    </relationships>
                    <relationships>
                        <autoTerminate>false</autoTerminate>
                        <name>success</name>
                    </relationships>
                    <state>STOPPED</state>
                    <style/>
                    <type>org.apache.nifi.processors.standard.JoltTransformJSON</type>
                </processors>
                <processors>
                    <id>73df529b-b8e5-38e2-0000-000000000000</id>
                    <parentGroupId>3df9a790-feaf-34ff-0000-000000000000</parentGroupId>
                    <position>
                        <x>-163.6921077708207</x>
                        <y>100.06594626972151</y>
                    </position>
                    <bundle>
                        <artifact>nifi-kafka-1-0-nar</artifact>
                        <group>org.apache.nifi</group>
                        <version>1.8.0</version>
                    </bundle>
                    <config>
                        <bulletinLevel>WARN</bulletinLevel>
                        <comments></comments>
                        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                        <descriptors>
                            <entry>
<key>bootstrap.servers</key>
<value>
    <name>bootstrap.servers</name>
</value>
                            </entry>
                            <entry>
<key>security.protocol</key>
<value>
    <name>security.protocol</name>
</value>
                            </entry>
                            <entry>
<key>sasl.kerberos.service.name</key>
<value>
    <name>sasl.kerberos.service.name</name>
</value>
                            </entry>
                            <entry>
<key>kerberos-credentials-service</key>
<value>
    <identifiesControllerService>org.apache.nifi.kerberos.KerberosCredentialsService</identifiesControllerService>
    <name>kerberos-credentials-service</name>
</value>
                            </entry>
                            <entry>
<key>sasl.kerberos.principal</key>
<value>
    <name>sasl.kerberos.principal</name>
</value>
                            </entry>
                            <entry>
<key>sasl.kerberos.keytab</key>
<value>
    <name>sasl.kerberos.keytab</name>
</value>
                            </entry>
                            <entry>
<key>ssl.context.service</key>
<value>
    <identifiesControllerService>org.apache.nifi.ssl.SSLContextService</identifiesControllerService>
    <name>ssl.context.service</name>
</value>
                            </entry>
                            <entry>
<key>topic</key>
<value>
    <name>topic</name>
</value>
                            </entry>
                            <entry>
<key>topic_type</key>
<value>
    <name>topic_type</name>
</value>
                            </entry>
                            <entry>
<key>honor-transactions</key>
<value>
    <name>honor-transactions</name>
</value>
                            </entry>
                            <entry>
<key>group.id</key>
<value>
    <name>group.id</name>
</value>
                            </entry>
                            <entry>
<key>auto.offset.reset</key>
<value>
    <name>auto.offset.reset</name>
</value>
                            </entry>
                            <entry>
<key>key-attribute-encoding</key>
<value>
    <name>key-attribute-encoding</name>
</value>
                            </entry>
                            <entry>
<key>message-demarcator</key>
<value>
    <name>message-demarcator</name>
</value>
                            </entry>
                            <entry>
<key>message-header-encoding</key>
<value>
    <name>message-header-encoding</name>
</value>
                            </entry>
                            <entry>
<key>header-name-regex</key>
<value>
    <name>header-name-regex</name>
</value>
                            </entry>
                            <entry>
<key>max.poll.records</key>
<value>
    <name>max.poll.records</name>
</value>
                            </entry>
                            <entry>
<key>max-uncommit-offset-wait</key>
<value>
    <name>max-uncommit-offset-wait</name>
</value>
                            </entry>
                        </descriptors>
                        <executionNode>ALL</executionNode>
                        <lossTolerant>false</lossTolerant>
                        <penaltyDuration>30 sec</penaltyDuration>
                        <properties>
                            <entry>
<key>bootstrap.servers</key>
<value>kafka:9092</value>
                            </entry>
                            <entry>
<key>security.protocol</key>
<value>PLAINTEXT</value>
                            </entry>
                            <entry>
<key>sasl.kerberos.service.name</key>
                            </entry>
                            <entry>
<key>kerberos-credentials-service</key>
                            </entry>
                            <entry>
<key>sasl.kerberos.principal</key>
                            </entry>
                            <entry>
<key>sasl.kerberos.keytab</key>
                            </entry>
                            <entry>
<key>ssl.context.service</key>
                            </entry>
                            <entry>
<key>topic</key>
<value>nf_raw</value>
                            </entry>
                            <entry>
<key>topic_type</key>
<value>names</value>
                            </entry>
                            <entry>
<key>honor-transactions</key>
<value>true</value>
                            </entry>
                            <entry>
<key>group.id</key>
<value>0</value>
                            </entry>
                            <entry>
<key>auto.offset.reset</key>
<value>latest</value>
                            </entry>
                            <entry>
<key>key-attribute-encoding</key>
<value>utf-8</value>
                            </entry>
                            <entry>
<key>message-demarcator</key>
                            </entry>
                            <entry>
<key>message-header-encoding</key>
<value>UTF-8</value>
                            </entry>
                            <entry>
<key>header-name-regex</key>
                            </entry>
                            <entry>
<key>max.poll.records</key>
<value>10000</value>
                            </entry>
                            <entry>
<key>max-uncommit-offset-wait</key>
<value>1 secs</value>
                            </entry>
                        </properties>
                        <runDurationMillis>0</runDurationMillis>
                        <schedulingPeriod>0 sec</schedulingPeriod>
                        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
                        <yieldDuration>1 sec</yieldDuration>
                    </config>
                    <executionNodeRestricted>false</executionNodeRestricted>
                    <name>ConsumeKafka</name>
                    <relationships>
                        <autoTerminate>false</autoTerminate>
                        <name>success</name>
                    </relationships>
                    <state>STOPPED</state>
                    <style/>
                    <type>org.apache.nifi.processors.kafka.pubsub.ConsumeKafka_1_0</type>
                </processors>
                <processors>
                    <id>f286f80f-3c4a-3b2b-0000-000000000000</id>
                    <parentGroupId>3df9a790-feaf-34ff-0000-000000000000</parentGroupId>
                    <position>
                        <x>1281.6982799412347</x>
                        <y>100.06587288315859</y>
                    </position>
                    <bundle>
                        <artifact>nifi-esper-e2-nar</artifact>
                        <group>de.e2security</group>
                        <version>1.1.8</version>
                    </bundle>
                    <config>
                        <bulletinLevel>WARN</bulletinLevel>
                        <comments></comments>
                        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                        <descriptors>
                            <entry>
<key>InputEventSchema</key>
<value>
    <name>InputEventSchema</name>
</value>
                            </entry>
                            <entry>
<key>EplStatement</key>
<value>
    <name>EplStatement</name>
</value>
                            </entry>
                            <entry>
<key>EsperEngine</key>
<value>
    <identifiesControllerService>de.e2security.nifi.controller.esper.EsperService</identifiesControllerService>
    <name>EsperEngine</name>
</value>
                            </entry>
                        </descriptors>
                        <executionNode>ALL</executionNode>
                        <lossTolerant>false</lossTolerant>
                        <penaltyDuration>30 sec</penaltyDuration>
                        <properties>
                            <entry>
<key>InputEventSchema</key>
<value>create schema Netflow as (in_bytes int)</value>
                            </entry>
                            <entry>
<key>EplStatement</key>
<value>@Name(EplTest)
select count(*) from Netflow</value>
                            </entry>
                            <entry>
<key>EsperEngine</key>
<value>e4a56f91-8693-39d6-0000-000000000000</value>
                            </entry>
                        </properties>
                        <runDurationMillis>0</runDurationMillis>
                        <schedulingPeriod>0 sec</schedulingPeriod>
                        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
                        <yieldDuration>1 sec</yieldDuration>
                    </config>
                    <executionNodeRestricted>false</executionNodeRestricted>
                    <name>EsperConsumer</name>
                    <state>STOPPED</state>
                    <style/>
                    <type>de.e2security.processors.e2esper.processor.EsperConsumer</type>
                </processors>
            </contents>
            <name>EPL processing</name>
            <variables>
                <entry>
                    <key>kafka.topic</key>
                    <value>nf_raw</value>
                </entry>
            </variables>
        </processGroups>
    </snippet>
    <timestamp>02/11/2019 13:46:13 UTC</timestamp>
</template>
